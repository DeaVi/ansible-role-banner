---
dist: xenial

matrix:
  include:
    - language: python
      python: 3.7
      services: docker
      install:
        - pip install --upgrade -r requirements-test.txt
      script:
        - yamllint .
        - flake8
        - find . -name "*.py" -exec pyupgrade {} \;
        - black --check
        - molecule test
    - language: ruby
      install:
        - gem install mdl
      script:
        - find . -name "*.md" -and -not -name "LICENSE.md" -exec mdl {} \;
